# üì° PubSubService ‚Äî gRPC Pub/Sub —Å–µ—Ä–≤–µ—Ä –Ω–∞ Go

–ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Pub/Sub‚Äë—Å–µ—Ä–≤–∏—Å–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º gRPC –Ω–∞ —è–∑—ã–∫–µ Go.
–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –ø–æ–¥–ø–∏—Å–æ–∫, –ø—É–±–ª–∏–∫–∞—Ü–∏–π —Å–æ–æ–±—â–µ–Ω–∏–π –∏ —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ —á–µ—Ä–µ–∑ gRPC.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
pubsubservice/
‚îú‚îÄ‚îÄ grpc/
‚îÇ   ‚îî‚îÄ‚îÄ pubsub/               # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ gRPC‚Äë—Ñ–∞–π–ª—ã (.pb.go)
‚îú‚îÄ‚îÄ go.mod                    # Go‚Äëmodule
‚îú‚îÄ‚îÄ main.go                   # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞)
‚îú‚îÄ‚îÄ pubsub.proto              # –û–ø–∏—Å–∞–Ω–∏–µ gRPC‚ÄëAPI (protobuf)
‚îú‚îÄ‚îÄ server.go                 # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è gRPC‚Äë—Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ subpub.go                 # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ Pub/Sub
‚îú‚îÄ‚îÄ subpub_test.go            # –Æ–Ω–∏—Ç‚Äë—Ç–µ—Å—Ç—ã
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å gRPC‚Äë–∫–æ–¥

```bash
protoc \
  --proto_path=. \
  --go_out=paths=source_relative:./grpc/pubsub \
  --go-grpc_out=paths=source_relative:./grpc/pubsub \
  pubsub.proto
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
go mod tidy
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä

```bash
go run .
```

–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:

```
gRPC server listening on :50051
```

---

## üõ†Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ Publish —á–µ—Ä–µ–∑ grpcurl

```bash
grpcurl -plaintext \
  -d '{"subject":"demo","message":"Hello from grpcurl"}' \
  localhost:50051 pubsub.PubSub/Publish
```

–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:

```json
{
  "success": true
}
```

---

## üß™ –¢–µ—Å—Ç—ã

```bash
go test ./...
```

---

## üì° –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏

* **Subscribe** ‚Äî —Å–µ—Ä–≤–µ—Ä–Ω—ã–π —Å—Ç—Ä–∏–º, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–π –∫–ª–∏–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ subject.
* **Publish** ‚Äî —Ä–∞—Å—Å—ã–ª–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤—Å–µ–º –∞–∫—Ç–∏–≤–Ω—ã–º –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º subject.
* –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –ª–æ–≥–∏–∫–∞ Pub/Sub —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤—Ä—É—á–Ω—É—é (–±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –±—Ä–æ–∫–µ—Ä–æ–≤).

---

## ‚úÖ –°—Ç–µ–∫

* Go¬†1.21+
* gRPC
* Protocol¬†Buffers

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
