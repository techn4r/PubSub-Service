# PubSub Service

** PubSub Service** ‚Äî —ç—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ Go, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –ø—Ä–æ—Å—Ç—É—é Publish‚ÄìSubscribe —à–∏–Ω—É —Å–æ–±—ã—Ç–∏–π —Å gRPC API.

## üìã –ö–∞–∫ —Å–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å

1. **–°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É:**

   ```bash
   git clone https://github.com/techn4r/PubSub-Service.git
   cd VKIntern
   ```

2. **–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∫–æ–¥ –∏–∑ protobuf-—Å—Ö–µ–º—ã:**

   ```bash
   protoc --go_out=. --go-grpc_out=. proto/pubsub.proto
   ```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Ç–µ—Å—Ç—ã –ø–∞–∫–µ—Ç–∞ subpub:**

   ```bash
   go mod download
   go test ./subpub
   ```

4. **–°–æ–±–µ—Ä–∏—Ç–µ –±–∏–Ω–∞—Ä—å gRPC-—Å–µ—Ä–≤–µ—Ä–∞:**

   ```bash
   go build -o bin/pubsub-server ./cmd/pubsub-server
   ```

5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:**

   ```bash
   ./bin/pubsub-server -port 50051
   ```

   * –ü–∞—Ä–∞–º–µ—Ç—Ä `-port` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `50051`) –∑–∞–¥–∞–µ—Ç –ø–æ—Ä—Ç –¥–ª—è gRPC.

6. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É:**

   * **Publish:**

     ```bash
     grpcurl -plaintext -d '{"key":"topic1","data":"hello"}' localhost:50051 pubsub.PubSub/Publish
     ```

   * **Subscribe:**

     ```bash
     grpcurl -plaintext -d '{"key":"topic1"}' localhost:50051 pubsub.PubSub/Subscribe
     ```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–µ—Ä–≤–∏—Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Ñ–ª–∞–≥–∏:

| –§–ª–∞–≥    | –û–ø–∏—Å–∞–Ω–∏–µ          | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
| ------- | ----------------- | --------------------- |
| `-port` | –ü–æ—Ä—Ç gRPC-—Å–µ—Ä–≤–µ—Ä–∞ | `50051`               |

## üõ† –¢–µ—Å—Ç—ã

* –ü–∞–∫–µ—Ç `subpub` –ø–æ–∫—Ä—ã—Ç unit-—Ç–µ—Å—Ç–∞–º–∏, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É, –ø–æ—Ä—è–¥–æ–∫ FIFO, –æ—Ç–ø–∏—Å–∫—É –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ:

  ```bash
  go test ./subpub
  ```

---

*–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –ø—Ä–æ–µ–∫—Ç—É, —Å–±–æ—Ä–∫–µ –∏ –∑–∞–ø—É—Å–∫—É —Å–µ—Ä–≤–∏—Å–∞ PubSub.*
